# MCP (Model Context Protocol)

## 本质
一个开放协议，用于将大语言模型客户端（如ChatGPT）连接到外部工具和资源，解决模型与外部服务安全、标准化交互的问题。

## 原理
**推断原理**：基于**接口标准化**和**模块化设计**原理。通过定义一套统一的通信规范（包括工具列表、调用方式和数据格式），MCP将复杂的工具集成问题抽象为模型可理解的“工具调用”动作。这利用了**认知负荷理论**，让模型无需理解底层实现细节，只需关注“调用什么工具”和“传递什么参数”，从而降低交互复杂度，提升可靠性和扩展性。

## 案例
**参考案例**：
*   **背景**：一个电商公司希望用户能在ChatGPT内直接查询订单状态和物流信息。
*   **做法**：该公司开发一个MCP服务器，暴露`get_order_status`和`track_shipment`两个工具，并定义好输入（如订单号）和输出（JSON格式的订单详情）的JSON Schema。在ChatGPT Apps SDK中集成此服务器。
*   **结果**：用户可以在ChatGPT对话中自然地说“帮我查一下订单#12345的状态”，ChatGPT模型识别意图后，通过MCP协议调用对应工具，获取结构化数据并渲染一个订单状态卡片，用户无需离开对话界面即可完成查询，提升了用户体验和效率。

## 行动
1.  **第一步（今天就能做）**：访问 [Model Context Protocol 官方规范网站](https://modelcontextprotocol.io/)，阅读核心概念，理解“工具”、“资源”、“服务器”和“客户端”在MCP中的角色。
2.  **第二步**：选择一个官方SDK（如Python或TypeScript）并运行一个简单的示例MCP服务器，体验如何定义和暴露一个工具（例如，一个返回当前时间的工具）。
3.  **第三步**：使用 [MCP Inspector](https://modelcontextprotocol.io/docs/tools/inspector) 工具连接并调试你刚创建的本地服务器，验证工具列表和调用功能是否正常工作。

## 边界
*   ✅ **适用场景**：需要将ChatGPT等AI助手与自有API、数据库或第三方服务安全集成的应用开发；构建具有复杂交互界面的ChatGPT App；希望一次开发，支持多客户端（Web、移动端）的工具集成。
*   ❌ **不适用场景**：仅需简单文本问答、无需调用外部工具或渲染自定义UI的应用；对延迟要求极高、无法接受协议层额外开销的实时系统。
*   ⚠️ **注意事项**：MCP服务器需要开发者自行实现并维护，需考虑安全性（如认证、输入验证）和性能；协议本身不解决业务逻辑，只解决通信问题。

---
> 来源：https://developers.openai.com/apps-sdk/concepts/mcp-server/
> 整理：Mr.Chen
> 日期：2024-05-25